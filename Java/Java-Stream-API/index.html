<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Stream API is a major feature introduced in Java 8. It provides convenient operations on collections.">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Stream API">
<meta property="og:url" content="http://example.com/Java/Java-Stream-API/index.html">
<meta property="og:site_name" content="Xing&#39;s Blog">
<meta property="og:description" content="Stream API is a major feature introduced in Java 8. It provides convenient operations on collections.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-01-19T05:01:00.000Z">
<meta property="article:modified_time" content="2019-01-19T05:01:00.000Z">
<meta property="article:author" content="Xinghua Zhang">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Java8">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/Java/Java-Stream-API/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/Java/Java-Stream-API/","path":"Java/Java-Stream-API/","title":"Java Stream API"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Java Stream API | Xing's Blog</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Xing's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Stream-Creation"><span class="nav-number">1.</span> <span class="nav-text">Stream Creation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection"><span class="nav-number">1.1.</span> <span class="nav-text">Collection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array"><span class="nav-number">1.2.</span> <span class="nav-text">Array</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Empty-Stream"><span class="nav-number">1.3.</span> <span class="nav-text">Empty Stream</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Primitive-Stream"><span class="nav-number">1.4.</span> <span class="nav-text">Primitive Stream</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stream-builder"><span class="nav-number">1.5.</span> <span class="nav-text">Stream.builder</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stream-iterate"><span class="nav-number">1.6.</span> <span class="nav-text">Stream.iterate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stream-generate"><span class="nav-number">1.7.</span> <span class="nav-text">Stream.generate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Create-Stream-from-File"><span class="nav-number">1.8.</span> <span class="nav-text">Create Stream from File</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Merge-Streams"><span class="nav-number">1.9.</span> <span class="nav-text">Merge Streams</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Create-Parallel-Stream"><span class="nav-number">1.10.</span> <span class="nav-text">Create Parallel Stream</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Operations"><span class="nav-number">2.</span> <span class="nav-text">Operations</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#filter"><span class="nav-number">2.1.</span> <span class="nav-text">filter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map"><span class="nav-number">2.2.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#flatMap"><span class="nav-number">2.3.</span> <span class="nav-text">flatMap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#limit"><span class="nav-number">2.4.</span> <span class="nav-text">limit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#distinct"><span class="nav-number">2.5.</span> <span class="nav-text">distinct</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sorted"><span class="nav-number">2.6.</span> <span class="nav-text">sorted</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#peek"><span class="nav-number">2.7.</span> <span class="nav-text">peek</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#forEach"><span class="nav-number">2.8.</span> <span class="nav-text">forEach</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#forEach-vs-forEachOrdered"><span class="nav-number">2.9.</span> <span class="nav-text">forEach vs forEachOrdered</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#anyMatch-allMatch-and-noneMatch"><span class="nav-number">2.10.</span> <span class="nav-text">anyMatch, allMatch and noneMatch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#findFirst-and-findAny"><span class="nav-number">2.11.</span> <span class="nav-text">findFirst and findAny</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#min-and-max"><span class="nav-number">2.12.</span> <span class="nav-text">min and max</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#count"><span class="nav-number">2.13.</span> <span class="nav-text">count</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduce"><span class="nav-number">2.14.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduce-without-initial-value"><span class="nav-number">2.15.</span> <span class="nav-text">reduce without initial value</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#toArray"><span class="nav-number">2.16.</span> <span class="nav-text">toArray</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#toList"><span class="nav-number">2.17.</span> <span class="nav-text">toList</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#collect-methods"><span class="nav-number">2.18.</span> <span class="nav-text">collect methods</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#collect-Collectors-toList"><span class="nav-number">2.18.1.</span> <span class="nav-text">.collect(Collectors.toList())</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#group-elements-as-Map"><span class="nav-number">2.18.2.</span> <span class="nav-text">group elements as Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String-joining"><span class="nav-number">2.18.3.</span> <span class="nav-text">String joining</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Miscellaneous"><span class="nav-number">3.</span> <span class="nav-text">Miscellaneous</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Map-Reduce"><span class="nav-number">4.</span> <span class="nav-text">Map-Reduce</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Filtering-Null-Values-from-a-Stream"><span class="nav-number">4.1.</span> <span class="nav-text">Filtering Null Values from a Stream</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#References"><span class="nav-number">5.</span> <span class="nav-text">References</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xinghua Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">204</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xinghua24" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xinghua24" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/Java/Java-Stream-API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xinghua Zhang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xing's Blog">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Java Stream API | Xing's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java Stream API
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-19 00:01:00" itemprop="dateCreated datePublished" datetime="2019-01-19T00:01:00-05:00">2019-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Stream API is a major feature introduced in Java 8. It provides convenient operations on collections. </p>
<span id="more"></span>

<p>The most used class is <a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html">Stream</a> Interface. It is defined in <a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html">java.util.stream package</a>. Stream class is used to support functional-style operations on streams of elements.</p>
<p>Stream can only store a sequence of objects. For primitives, there are separate classes for that. like Stream, They inherit from BaseStream Interface but with primitive specific methods such as avarage, range and rangeClosed.</p>
<ul>
<li>IntStream</li>
<li>LongStream</li>
<li>DeoubleStream</li>
</ul>
<p>Stream operations are divided into <strong>intermediate</strong> and <strong>terminal</strong> operations. Intermediate operations return a new stream. Terminal operation produce a result</p>
<p>Intermediate Operations</p>
<ul>
<li>filter()</li>
<li>map()</li>
<li>flatMap()</li>
<li>distinct()</li>
<li>sorted()</li>
<li>peek()</li>
<li>limit()</li>
<li>skip()</li>
</ul>
<p>Terminal Operations</p>
<ul>
<li>forEach()</li>
<li>forEachOrdered()</li>
<li>toArray()</li>
<li>toList()</li>
<li>reduce()</li>
<li>collect()</li>
<li>min()</li>
<li>max()</li>
<li>count()</li>
<li>anyMatch()</li>
<li>allMatch()</li>
<li>noneMatch()</li>
<li>findFirst()</li>
<li>findAny()</li>
</ul>
<h1 id="Stream-Creation"><a href="#Stream-Creation" class="headerlink" title="Stream Creation"></a>Stream Creation</h1><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><p>Collection interface provides <code>stream()</code> method to create stream. You can also use <code>parallelStream()</code> method to create a parallel stream.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;the&quot;</span>, <span class="string">&quot;quick&quot;</span>, <span class="string">&quot;brown&quot;</span>, <span class="string">&quot;fox&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream = list.stream();</span><br></pre></td></tr></table></figure>

<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p>You can also create stream from array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String[] strArray = <span class="keyword">new</span> <span class="title class_">String</span>[] &#123;<span class="string">&quot;the&quot;</span>, <span class="string">&quot;quick&quot;</span>, <span class="string">&quot;brown&quot;</span>, <span class="string">&quot;fox&quot;</span>&#125;;</span><br><span class="line">Stream&lt;String&gt; stream = Arrays.stream(strArray);</span><br></pre></td></tr></table></figure>

<p><code>Stream.of()</code> can be used to create stream too</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream =  Stream.of(&quot;the&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="Empty-Stream"><a href="#Empty-Stream" class="headerlink" title="Empty Stream"></a>Empty Stream</h2><p>use <code>Stream.empty()</code> method to create empty stream</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; emptyStream = Stream.empty();</span><br></pre></td></tr></table></figure>

<h2 id="Primitive-Stream"><a href="#Primitive-Stream" class="headerlink" title="Primitive Stream"></a>Primitive Stream</h2><p><code>Stream&lt;T&gt;</code> can not be used for primitives. Java 8 provides special class for primitive streams - <strong>IntStream</strong>, <strong>LongStream</strong>, <strong>DoubleStream</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">IntStream</span> <span class="variable">intStream</span> <span class="operator">=</span> IntStream.range(<span class="number">0</span>, <span class="number">2</span>); <span class="comment">// 0, 1</span></span><br><span class="line"><span class="type">LongStream</span> <span class="variable">longStream</span> <span class="operator">=</span> LongStream.rangeClosed(<span class="number">0</span>, <span class="number">2</span>); <span class="comment">// 0, 1, 2</span></span><br><span class="line"><span class="type">DoubleStream</span> <span class="variable">doubleStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().doubles(<span class="number">3</span>); <span class="comment">// 3 doubles</span></span><br></pre></td></tr></table></figure>

<h2 id="Stream-builder"><a href="#Stream-builder" class="headerlink" title="Stream.builder"></a>Stream.builder</h2><p>use <code>Stream.builder()</code> to build the stream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.&lt;String&gt;builder().add(<span class="string">&quot;the&quot;</span>).add(<span class="string">&quot;quick&quot;</span>).add(<span class="string">&quot;brown&quot;</span>).add(<span class="string">&quot;fox&quot;</span>).build();</span><br></pre></td></tr></table></figure>


<h2 id="Stream-iterate"><a href="#Stream-iterate" class="headerlink" title="Stream.iterate"></a>Stream.iterate</h2><p>use <code>Stream.iterate()</code> static method</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream.iterate(<span class="number">0</span>, i -&gt; i+<span class="number">1</span>).limit(<span class="number">5</span>).forEach(System.out::println); <span class="comment">// 0, 1, 2, 3, 4</span></span><br></pre></td></tr></table></figure>

<h2 id="Stream-generate"><a href="#Stream-generate" class="headerlink" title="Stream.generate"></a>Stream.generate</h2><p>use <code>Stream.generate()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream.generate(() -&gt; <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">5</span>)).limit(<span class="number">5</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h2 id="Create-Stream-from-File"><a href="#Create-Stream-from-File" class="headerlink" title="Create Stream from File"></a>Create Stream from File</h2><p><code>java.nio.file.Files</code> class provides <code>lines()</code> method to generate Stream from a text file.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Path</span> <span class="variable">path</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;/tmp/test.txt&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> (Stream&lt;String&gt; lines = Files.lines(path)) &#123;</span><br><span class="line">    lines.forEach(System.out::println);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Merge-Streams"><a href="#Merge-Streams" class="headerlink" title="Merge Streams"></a>Merge Streams</h2><p>use <code>concat()</code> static method to merge two Streams.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream1 = Stream.of(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;One&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream2 = Stream.of(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Two&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; mergedStream = Stream.concat(stream1, stream2);</span><br></pre></td></tr></table></figure>

<p>If there are more than two Streams to merge, this is more complex. You can call multiple Stream.concat method or use the flatMap method</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream1 = Stream.of(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;One&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream2 = Stream.of(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Two&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream3 = Stream.of(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Three&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; mergedStream = Stream.of(stream1, stream2, stream3).flatMap(s -&gt; s);</span><br></pre></td></tr></table></figure>
<p>Here we first combine the 3 streams to create a <code>Stream&lt;Stream&lt;String&gt;&gt;</code> variable, then use <code>flatMap</code> method to flatten the variable and return <code>Stream&lt;String&gt;</code> variable.</p>
<h2 id="Create-Parallel-Stream"><a href="#Create-Parallel-Stream" class="headerlink" title="Create Parallel Stream"></a>Create Parallel Stream</h2><p>Stream class provides a <code>parallel()</code> method to create a parallel stream. However, it doesn’t guarantee a performance increase. Be very careful when using parallel stream. for more info, see <a target="_blank" rel="noopener" href="https://dzone.com/articles/think-twice-using-java-8">Think Twice Before Using Java 8 Parallel Streams by Lukas Krecan</a></p>
<h1 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h1><h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><p>filter elements based on a criteria. </p>
<p>This is an intermediate operation.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.stream().filter( s -&gt; s.startsWith(&quot;q&quot;))</span><br></pre></td></tr></table></figure>


<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;R&gt; <span class="title function_">map</span><span class="params">(Function&lt;? <span class="built_in">super</span> T,? extends R&gt; mapper)</span></span><br></pre></td></tr></table></figure>
<p>Apply function to each element in the stream.</p>
<p>map Post to its title.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Post&gt; posts = List.of(post1, post2, post3);</span><br><span class="line">Stream&lt;String&gt; titles = posts.stream()</span><br><span class="line">    .map(post -&gt; post.getTitle());</span><br></pre></td></tr></table></figure>

<p>There are variations if return type of the Function parameter is not an Object</p>
<ul>
<li>mapToDouble</li>
<li>mapToInt</li>
<li>mapToLong</li>
</ul>
<h2 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;R&gt; <span class="title function_">flatMap</span><span class="params">(Function&lt;? <span class="built_in">super</span> T,? extends Stream&lt;? extends R&gt;&gt; mapper)</span></span><br></pre></td></tr></table></figure>
<p>flatMap does a <strong>map</strong> operation and then follow by an <strong>flat</strong> operation. <code>flat</code> opertion avoids nested <code>Stream&lt;Stream&lt;R&gt;&gt;</code> structure. </p>
<p>This method is usually used to merge collections. We can merge multiple list of Cities into one list in a single line.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">List&lt;County&gt; counties = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="type">County</span> <span class="variable">county1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">County</span>(<span class="string">&quot;County1&quot;</span>);</span><br><span class="line">county1.addCity(<span class="keyword">new</span> <span class="title class_">City</span>(<span class="string">&quot;A1 City&quot;</span>));</span><br><span class="line">county1.addCity(<span class="keyword">new</span> <span class="title class_">City</span>(<span class="string">&quot;A2 City&quot;</span>));</span><br><span class="line">counties.add(county1);</span><br><span class="line"></span><br><span class="line"><span class="type">County</span> <span class="variable">county2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">County</span>(<span class="string">&quot;County2&quot;</span>);</span><br><span class="line">county1.addCity(<span class="keyword">new</span> <span class="title class_">City</span>(<span class="string">&quot;B1 City&quot;</span>));</span><br><span class="line">county1.addCity(<span class="keyword">new</span> <span class="title class_">City</span>(<span class="string">&quot;B2 City&quot;</span>));</span><br><span class="line">counties.add(county2);</span><br><span class="line"></span><br><span class="line">List&lt;City&gt; allCities = counties.stream()</span><br><span class="line">    .flatMap(county -&gt; county.getCities().stream())</span><br><span class="line">    .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">allCities.stream().forEach(System.out::println); <span class="comment">// prints all cities</span></span><br></pre></td></tr></table></figure>

<p>There are variations if return type of the Function parameter is not an Object</p>
<ul>
<li>flatMapToDouble</li>
<li>flatMapToInt</li>
<li>flatMapToLong</li>
</ul>
<p>Compare <code>map()</code>  and <code>flatMap()</code></p>
<ul>
<li>Both map and flatMap can be applied to a <code>Stream&lt;T&gt;</code> and they both return a <code>Stream&lt;R&gt;</code></li>
<li>map() operation takes a <code>Function</code>, which should apply to each value in the stream and produce a <strong>single value</strong> for each value.</li>
<li>flatMap() operation also takes a <code>Function</code>, which should apply to each value in the stream and produce an arbitrary number of values.</li>
</ul>
<h2 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h2><p>limit the number of elements</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream.generate(() -&gt; <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">5</span>)).limit(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h2 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h2><p>Returns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.stream().distinct().forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h2 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h2><p><code>sorted()</code> method sort the elements in the stream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Random</span>().ints(<span class="number">5</span>).sorted().forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<p>Sort String by length</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stringStream = Stream.of(<span class="string">&quot;aaaa&quot;</span>, <span class="string">&quot;bb&quot;</span>, <span class="string">&quot;fff&quot;</span>, <span class="string">&quot;o&quot;</span>);</span><br><span class="line">stringStream.sorted((s1, s2) -&gt; s1.length() - s2.length()).forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stringStream =  Stream.of(<span class="string">&quot;aaaa&quot;</span>, <span class="string">&quot;bb&quot;</span>, <span class="string">&quot;fff&quot;</span>, <span class="string">&quot;o&quot;</span>);</span><br><span class="line">stringStream.sorted(Comparator.comparing(String::length)).forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<p>Sort String by length, reverse order.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stringStream =  Stream.of(<span class="string">&quot;aaaa&quot;</span>, <span class="string">&quot;bb&quot;</span>, <span class="string">&quot;fff&quot;</span>, <span class="string">&quot;o&quot;</span>);</span><br><span class="line">stringStream.sorted(Comparator.comparing(String::length).reversed()).forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h2 id="peek"><a href="#peek" class="headerlink" title="peek"></a>peek</h2><p><code>peek</code> performs action on each element. This is an intermediate operation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stringStream = Stream.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">List&lt;String&gt; upperCaseStringStream = stringStream</span><br><span class="line">        .map(String::toUpperCase)</span><br><span class="line">        .peek(System.out::println)</span><br><span class="line">        .toList();</span><br></pre></td></tr></table></figure>

<p>NOTE: This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline</p>
<h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h2><p>Performs an action for each element of this stream.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream =  Stream.of(<span class="string">&quot;the&quot;</span>, <span class="string">&quot;quick&quot;</span>, <span class="string">&quot;brown&quot;</span>, <span class="string">&quot;fox&quot;</span>);</span><br><span class="line">stream.forEach(System.out::println);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="forEach-vs-forEachOrdered"><a href="#forEach-vs-forEachOrdered" class="headerlink" title="forEach vs forEachOrdered"></a>forEach vs forEachOrdered</h2><p>For <strong>forEach()</strong>, The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism. </p>
<p>for <strong>forEachOrdered()</strong>, This operation processes the elements one at a time, in encounter order if one exists. So this operation sacrifice the benefit of parallelism for order.</p>
<p>forEach vs forEachOrdered</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list =  Arrays.asList(<span class="string">&quot;the&quot;</span>, <span class="string">&quot;quick&quot;</span>, <span class="string">&quot;brown&quot;</span>, <span class="string">&quot;fox&quot;</span>);</span><br><span class="line">list.parallelStream().forEach(System.out::println);</span><br><span class="line">System.out.println(<span class="string">&quot;---&quot;</span>);</span><br><span class="line">list.parallelStream().forEachOrdered(System.out::println);</span><br></pre></td></tr></table></figure>

<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">brown</span><br><span class="line">the</span><br><span class="line">quick</span><br><span class="line">fox</span><br><span class="line">---</span><br><span class="line">the</span><br><span class="line">quick</span><br><span class="line">brown</span><br><span class="line">fox</span><br></pre></td></tr></table></figure>


<h2 id="anyMatch-allMatch-and-noneMatch"><a href="#anyMatch-allMatch-and-noneMatch" class="headerlink" title="anyMatch, allMatch and noneMatch"></a>anyMatch, allMatch and noneMatch</h2><p>There are three methods you can use to find match: <code>anyMatch()</code>, <code>allMatch()</code>, <code>nonMatch()</code>. These are all terminal operation.</p>
<ul>
<li><code>anyMatch()</code> - Returns whether any elements of this stream match the provided predicate. </li>
<li><code>allMatch()</code> - Returns whether all elements of this stream match the provided predicate.</li>
<li><code>noneMatch()</code> - Returns whether no elements of this stream match the provided predicate.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;ggg&quot;</span>, <span class="string">&quot;tech&quot;</span>);</span><br><span class="line"><span class="type">boolean</span> <span class="variable">hasTStart</span> <span class="operator">=</span> list.stream().anyMatch(s -&gt; s.startsWith(<span class="string">&quot;t&quot;</span>));</span><br></pre></td></tr></table></figure>


<h2 id="findFirst-and-findAny"><a href="#findFirst-and-findAny" class="headerlink" title="findFirst and findAny"></a>findFirst and findAny</h2><p>findFirst returns an <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html">Optional</a> describing the first element of this stream, or an empty <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html">Optional</a> if the stream is empty.</p>
<p>findAny also returns an element but its return element is nondeterministic.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list.stream().findFirst().ifPresent(System.out::println);</span><br><span class="line">list.stream().findAny().ifPresent(System.out::println);</span><br></pre></td></tr></table></figure>


<h2 id="min-and-max"><a href="#min-and-max" class="headerlink" title="min and max"></a>min and max</h2><ul>
<li>min method returns the minimum value of the stream. It returns empty stream if these is no element. Similarly, max method returns the maximum value of the stream. </li>
<li>The input parameteris a Comparator.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">Optional&lt;Integer&gt; min = list.stream().min((i, j) -&gt; i.compareTo(j));</span><br><span class="line">min.ifPresent(System.out::println);</span><br></pre></td></tr></table></figure>

<h2 id="count"><a href="#count" class="headerlink" title="count"></a>count</h2><p>Returns the count of elements in this stream. This is a terminal operation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(list.stream().count());</span><br></pre></td></tr></table></figure>

<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><ul>
<li>reduce takes an identity(initial value) and accumulator to do the reduction. </li>
<li>If the input Stream is empty, the return value will be the idenity(inital value).</li>
</ul>
<p>Integer sum</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> IntStream.range(<span class="number">0</span>, <span class="number">9</span>).reduce(<span class="number">0</span>, (a,b) -&gt; a + b);</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> IntStream.range(<span class="number">0</span>, <span class="number">9</span>).reduce(<span class="number">0</span>, Integer::sum);</span><br></pre></td></tr></table></figure>

<p>BigDecimal sum</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;BigDecimal&gt; decimals = Arrays.asList(BigDecimal.ONE, BigDecimal.ZERO, BigDecimal.valueOf(<span class="number">2.2</span>));</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">sum</span> <span class="operator">=</span> decimals.stream().reduce(BigDecimal.ZERO, BigDecimal::add);</span><br></pre></td></tr></table></figure>

<h2 id="reduce-without-initial-value"><a href="#reduce-without-initial-value" class="headerlink" title="reduce without initial value"></a>reduce without initial value</h2><ul>
<li>If identity(inital value) is not provided, then reduce method will return an Optional. </li>
<li>When the input stream is empty, reduce method will return Optional.empty().</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">OptionalInt</span> <span class="variable">optionalSum</span> <span class="operator">=</span> IntStream.range(<span class="number">0</span>, <span class="number">9</span>).reduce( Integer::sum);</span><br><span class="line">optionalSum.ifPresent(System.out::println); <span class="comment">// 36</span></span><br></pre></td></tr></table></figure>

<p>When input Stream is empty, optionalSum will be Optional.empty() too.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">OptionalInt</span> <span class="variable">optionalSum</span> <span class="operator">=</span> IntStream.empty().reduce(Integer::sum);</span><br></pre></td></tr></table></figure>

<h2 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h2><p>Returns an array containing the elements of this stream. Note that the return type of toArray is <strong>Object[]</strong>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">Object[] objects = stream.toArray();</span><br><span class="line">System.out.println(Arrays.toString(objects)); <span class="comment">// output [a, c, b]</span></span><br></pre></td></tr></table></figure>

<p>If you want the return array have actual types, then provide a generator function</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">String[] strArray = stream.toArray(String[]::<span class="keyword">new</span>);</span><br><span class="line">System.out.println(Arrays.toString(strArray));</span><br></pre></td></tr></table></figure>

<h2 id="toList"><a href="#toList" class="headerlink" title="toList"></a>toList</h2><p>Accumulates the elements of this stream into a List. This method was introduced in <strong>Java 16</strong>. If this method is not available, use <em>.collect(Collectors.toList())</em> instead.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">List&lt;String&gt; strList = stream.toList();</span><br></pre></td></tr></table></figure>


<h2 id="collect-methods"><a href="#collect-methods" class="headerlink" title="collect methods"></a>collect methods</h2><p>performs mutable reduction operation on elements of a stream.</p>
<blockquote>
<p>A <strong>mutable reduction</strong> operation accumulates input elements into a mutable result container, such as a Collection or StringBuilder, as it processes the elements in the stream.</p>
</blockquote>
<h3 id="collect-Collectors-toList"><a href="#collect-Collectors-toList" class="headerlink" title=".collect(Collectors.toList())"></a>.collect(Collectors.toList())</h3><p>The most common operation is to return a collection using a list collector.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; upperCaseStringStream = stringStream</span><br><span class="line">    .map(String::toUpperCase)</span><br><span class="line">    .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>
<p>Note that javadoc shows Collectors.toList() method doesn’t guarantee the return List type of the Collector. To explicitly set the return collection type, use toCollection method. e.g. <code>collect(Collectors.toCollection(ArrayList::new))</code></p>
<h3 id="group-elements-as-Map"><a href="#group-elements-as-Map" class="headerlink" title="group elements as Map"></a>group elements as Map</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Book&gt; books = Stream.of(new Book(&quot;t1&quot;, &quot;teen&quot;),new Book(&quot;s1&quot;, &quot;sci-fi&quot;), new Book(&quot;t2&quot;, &quot;teen&quot;));</span><br><span class="line">Map&lt;String, List&lt;Book&gt;&gt; byCategory = books.collect(Collectors.groupingBy(Book::getCategory));</span><br></pre></td></tr></table></figure>

<h3 id="String-joining"><a href="#String-joining" class="headerlink" title="String joining"></a>String joining</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stringStream = Stream.of(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> stringStream.collect(Collectors.joining(<span class="string">&quot;,&quot;</span>)); <span class="comment">// &quot;one,two,three,four&quot;</span></span><br></pre></td></tr></table></figure>


<h1 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h1><h1 id="Map-Reduce"><a href="#Map-Reduce" class="headerlink" title="Map-Reduce"></a>Map-Reduce</h1><p>Map-Reduce is a very powerful programming technique in solving complex problems. With the introduction of Stream API, We can now perform Map Reduce to solve complex problems more elegantly.</p>
<p>Example: find average salary of full time employees</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">average</span> <span class="operator">=</span> employees.stream().filter(e -&gt; e.isFulltime()).mapToDouble(e -&gt; e.getSalary()).average().getAsDouble();</span><br></pre></td></tr></table></figure>
<p>Note: average method is a reduce operation.</p>
<p>If you want to perform Map-Reduce in large scale, use <code>parallelStream()</code> instead of <code>stream()</code> method.</p>
<h2 id="Filtering-Null-Values-from-a-Stream"><a href="#Filtering-Null-Values-from-a-Stream" class="headerlink" title="Filtering Null Values from a Stream"></a>Filtering Null Values from a Stream</h2><p>use filter method to filter out the null values in a stream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list =  Arrays.asList(<span class="string">&quot;the&quot;</span>, <span class="string">&quot;quick&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;brown&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;fox&quot;</span>);</span><br><span class="line">list.stream().filter(s -&gt; s!=<span class="literal">null</span>).collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<p>Alternatively, we can use <code>Objects::nonNull</code> to do the filter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list =  Arrays.asList(<span class="string">&quot;the&quot;</span>, <span class="string">&quot;quick&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;brown&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;fox&quot;</span>);</span><br><span class="line">list.stream().filter(Objects::nonNull).collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html">java.util.stream package</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html">java.util.stream.Stream Interface</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html">java.util.stream.Collectors class</a></li>
<li><a target="_blank" rel="noopener" href="https://www.baeldung.com/java-8-streams-introduction">Introduction to Java 8 Streams by Baeldung</a></li>
<li><a target="_blank" rel="noopener" href="https://www.baeldung.com/java-8-streams">Java 8 Stream by Baeldung</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/java8/java8_streams.htm">Tutorialspoint Streams</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/q/26684562">What’s the difference between map() and flatMap() methods in Java 8?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.mkyong.com/java8/java-8-filter-a-null-value-from-a-stream/">Java 8 – Filter a null value from a Stream by Mkyong</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
              <a href="/tags/Java8/" rel="tag"># Java8</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/Java/Java-Lambda/" rel="prev" title="Java Lambda">
                  <i class="fa fa-chevron-left"></i> Java Lambda
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/Java/Java-Optional/" rel="next" title="Java Optional">
                  Java Optional <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xinghua Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
